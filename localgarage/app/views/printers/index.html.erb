<%- model_class = Printer -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.pluralize %></h1>
</div>
<table class="table table-striped">
  <thead>
    <tr>
<<<<<<< Updated upstream
      <th><%= model_class.human_attribute_name(:id) %></th>
      <th><%= model_class.human_attribute_name(:material) %></th>
      <th><%= model_class.human_attribute_name(:machinemodel) %></th>
      <th><%= model_class.human_attribute_name(:sizex) %></th>
      <th><%= model_class.human_attribute_name(:sizey) %></th>
      <th><%= model_class.human_attribute_name(:sizez) %></th>
      <th><%= model_class.human_attribute_name(:resolution) %></th>
      <th><%= model_class.human_attribute_name(:location) %></th>
      <th><%= model_class.human_attribute_name(:image_url) %></th>
      <th><%= model_class.human_attribute_name(:condition) %></th>
      <th><%= model_class.human_attribute_name(:user_id) %></th>
      <th><%= model_class.human_attribute_name(:material_color) %></th>
      <th><%= model_class.human_attribute_name(:created_at) %></th>
      <th><%=t '.actions', :default => t("helpers.actions") %></th>
=======
      <th>Material</th>
      <th>Material_color</th>
      <th>Machinemodel</th>
      <th>Resolution</th>
      <th>Location</th>
      <th>Condition</th>
      <th colspan="1"></th>
>>>>>>> Stashed changes
    </tr>
  </thead>
  <tbody>
<<<<<<< Updated upstream
    <% @printers.each do |printer| %>
      <tr>
        <td><%= link_to printer.id, printer_path(printer) %></td>
        <td><%= printer.material %></td>
        <td><%= printer.machinemodel %></td>
        <td><%= printer.sizex %></td>
        <td><%= printer.sizey %></td>
        <td><%= printer.sizez %></td>
        <td><%= printer.resolution %></td>
        <td><%= printer.location %></td>
        <td><%= printer.image_url %></td>
        <td><%= printer.condition %></td>
        <td><%= printer.user_id %></td>
        <td><%= printer.material_color %></td>
        <td><%=l printer.created_at %></td>
        <td>
          <%= link_to t('.edit', :default => t("helpers.links.edit")),
                      edit_printer_path(printer), :class => 'btn btn-primary btn-xs' %>
          <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                      printer_path(printer),
                      :method => :delete,
                      :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                      :class => 'btn btn-danger btn-xs' %>
        </td>
      </tr>
=======
    <%= form_tag printers_path,  :method => 'get' do %>
        <p><%= "素材を検索する" %>
    <%= text_field_tag :search,  params[:search] %>
    <%= submit_tag "Search", :material => nil %>


    <div id="checkbox1">
        <label><%=check_box_tag :ABS, "aps" %>ABS</lable>
    </div>
    <div id="checkbox2">
        <label><%=check_box_tag :PLA, "pla" %>PLA</lable>
    </div>
    <script>
        $(document).ready(function(){
            getParam();
        });
 
        function getParam() {
            var url   = location.href;
            if(url.indexOf("?") != -1){
              parameters    = url.split("?");
              params   = parameters[1].split("&");
              var paramsArray = [];
              for ( i = 0; i < params.length; i++ ) {
                  neet = params[i].split("=");
                  paramsArray.push(neet[0]);
                  paramsArray[neet[0]] = neet[1];
              }
              var categoryKey = paramsArray["search"];
              if(categoryKey == "abs"){
                document.getElementById('checkbox1').innerHTML = '<label><%=check_box_tag :ABS, "aps", true%>ABS</lable>';
              }
              if(categoryKey == "pla"){
                document.getElementById('checkbox2').innerHTML = '<label><%=check_box_tag :PLA, "pla", true%>PLA</lable>';
              }
            }else{
              document.getElementById('checkbox1').innerHTML = '<label><%=check_box_tag :ABS, "aps", false%>ABS</lable>';
              document.getElementById('checkbox2').innerHTML = '<label><%=check_box_tag :PLA, "pla", false%>PLA</lable>';
            }
        }

        $(function(){
            $("#checkbox1 :checkbox").click(function(){
              if($("#checkbox1 :checked").length > 0){
                location.href='http://localhost:3000/printers?utf8=%E2%9C%93&search=abs&commit=Search';
              }else{
                location.href='http://localhost:3000/printers';
              }
            });
        });

        $(function(){
            $("#checkbox2 :checkbox").click(function(){
              if($("#checkbox2 :checked").length > 0){
                location.href='http://localhost:3000/printers?utf8=%E2%9C%93&search=pla&commit=Search';
              }else{
                location.href='http://localhost:3000/printers';
              }
            });
        });
    </script>

    

<% end %>
    <%= content_tag_for :tr, @printers do |printer| %>
        <% if printer.user_id %>
            <td><%= printer.material %></td>
            <td><%= printer.material_color %></td>
            <td><%= printer.machinemodel %></td>
            <td><%= printer.resolution %></td>
            <td><%= printer.location %></td>
            <td><%= printer.condition %></td>
            <td><%= link_to 'このプリンターにする', printer %></td>
            <% if current_user %>
                <% if printer.user_id == current_user.id %>
                    <td><%= link_to 'プリンター情報を修正する',  edit_printer_path(printer) %></td>
                    <td><%= link_to '登録したプリンターを削除する',  printer,  method: :delete,  data: { confirm: 'Are you sure?' } %></td>
                <% end %>
            <% end %>
        <% end %>
>>>>>>> Stashed changes
    <% end %>
  </tbody>
</table>

<%= link_to 'New Printer', new_printer_path %>